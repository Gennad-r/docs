---
title: Импорты
description: Узнайте, как импортировать разные типы контента в Astro.
i18nReady: true
---
import RecipeLinks from "~/components/RecipeLinks.astro";
import ReadMore from '~/components/ReadMore.astro'

Astro поддерживает большинство статических ресурсов без необходимости настройки. Вы можете использовать оператор `import` в любом месте вашего JavaScript-кода (включая Astro frontmatter), и Astro включит оптимизированную копию этого ресурса в итоговую сборку. `@import` также поддерживается в CSS и `<style>` тегах.

## Поддерживаемые типы файлов

Astro по умолчанию поддерживает следующие типы файлов:

- Компоненты Astro  (`.astro`)
- Markdown (`.md`, `.markdown`, etc.)
- JavaScript (`.js`, `.mjs`)
- TypeScript (`.ts`)
- Пакеты NPM
- JSON (`.json`)
- CSS (`.css`)
- CSS-модули (`.module.css`)
- Изображения и ресурсы (`.svg`, `.jpg`, `.png`, etc.)

Вы также можете расширить Astro для поддержки других [UI фреймворков](/ru/guides/framework-components/) таких как React, Svelte и Vue. Можно установить [интеграцию Astro MDX](/ru/guides/integrations-guide/mdx/) и использовать .mdx файлы в вашем проекте.

### Файлы в директории `public/`

Вы можете поместить любой статический ресурс в [директорию `public/`](/ru/basics/project-structure/#public) вашего проекта, и Astro скопирует его в итоговую сборку без изменений. Файлы в `public/` не обрабатываются Astro, так что поддерживается любой тип файла. К файлу `public/` можно обращаться по URL-адресу напрямую в HTML-шаблонах.

## Операторы импорта

Astro использует ESM, те же [`import`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/import#синтаксис) и [`export`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/export) операторы, которые поддерживаются в браузерах.

### JavaScript

```js
import { getUser } from './user.js';
```

JavaScript можно импортировать с помощью обычного синтаксиса `import` & `export`.

:::note[Импорт файлов JSX]

Для рендеринга файлов JSX/TSX требуется соответствующий [UI фреймворк](/ru/guides/framework-components/) ([React](/ru/guides/integrations-guide/react/), [Preact](/ru/guides/integrations-guide/preact/), или [Solid](/ru/guides/integrations-guide/solid-js/)).
Используйте расширения `.jsx`/`.tsx` где это необходимо, так как Astro не поддерживает JSX в файлах `.js`/`.ts`.

:::

### TypeScript

```js
import { getUser } from './user';
import type { UserType } from './user';
```

Astro включает встроенную поддержку [TypeScript](https://www.typescriptlang.org/). Вы можете импортировать `.ts` и `.tsx` файлы напрямую в ваш проект Astro и даже писать TypeScript-код прямо внутри [скрипта компонента Astro](/ru/basics/astro-components/#скрипт-компонента) и любых [тегах скриптов](/ru/guides/client-side-scripts/).

**Astro не выполняет проверку типов самостоятельно.** Проверка типов должна выполняться вне Astro, либо вашим IDE, либо через отдельный скрипт. Для проверки типов файлов Astro предоставляется команда [`astro check`](/ru/reference/cli-reference/#astro-check).

:::note[TypeScript и расширения файлов]
Согласно [правилам разрешения модулей TypeScript](https://www.typescriptlang.org/docs/handbook/module-resolution.html), расширения файлов `.ts` и `.tsx` не должны использоваться при импорте файлов TypeScript. Вместо этого используйте расширения файлов `.js`/`.jsx` или полностью опустите расширение файла.

```ts
import { getUser } from './user.js'; // user.ts
import MyComponent from "./MyComponent"; // MyComponent.tsx
```

:::

<ReadMore>Узнайте больше о [поддержке TypeScript в Astro](/ru/guides/typescript/).</ReadMore>


### Пакеты NPM

Если вы установили пакет NPM, вы можете импортировать его в Astro.

```astro
---
import { Icon } from 'astro-icon';
---
```
Если пакет был опубликован с использованием устаревшего формата, Astro попытается преобразовать пакет в ESM, чтобы операторы `import` работали. В некоторых случаях вам может потребоваться настроить ваш [`vite` config](/ru/reference/configuration-reference/#vite), чтобы это работало.

:::caution
Некоторые пакеты зависят от среды браузера. Компоненты Astro выполняются на сервере, поэтому импорт этих пакетов в frontmatter может [привести к ошибкам](/ru/guides/troubleshooting/#document-or-window-is-not-defined).
:::

### JSON

```js
// Грузит объект JSON с помощью экспорта по умолчанию
import json from './data.json';
```

Astro поддерживает импорт JSON файлов напрямую в ваше приложение. Импортированные файлы возвращают полный JSON объект в виде импорта по умолчанию.

### CSS

```js
// Грузит и внедряет файл 'style.css' на страницу
import './style.css';
```

Astro поддерживает импорт CSS файлов напрямую в ваше приложение. Импортированные стили не имеют экспортов, но импорт одного из них автоматически добавит эти стили на страницу. Это работает для всех CSS файлов по умолчанию и может поддерживать языки, компилируемые в CSS, такие как Sass и Less, через плагины.

<ReadMore>Узнайте больше о расширенных случаях использования импорта CSS, таких как прямая ссылка на URL для CSS файла или импорт CSS в виде строки в [руководстве по стилям](/ru/guides/styling/#advanced).</ReadMore>

### CSS модули

```jsx
// 1. Преобразует имена классов './style.module.css' в уникальные, с областью видимости.
// 2. Возвращает объект, сопоставляющий оригинальные имена классов с их окончательными значениями с областью видимости.
import styles from './style.module.css';

// В этом примере используется JSX, но вы можете использовать CSS-модули с любым фреймворком.
return <div className={styles.error}>Your Error Message</div>;
```

Astro поддерживает CSS модули, используя соглашение об именовании `[name].module.css`. Как и любой CSS файл, импорт одного из них автоматически применит этот CSS к странице. Однако CSS модули экспортируют специальный объект `styles` по умолчанию, который сопоставляет ваши оригинальные имена классов с уникальными идентификаторами.

CSS модули помогают вам обеспечить область видимости и изоляцию компонентов на фронтенде с помощью уникально сгенерированных имен классов для ваших таблиц стилей.

### Другие ресурсы

```jsx
import imgReference from './image.png'; // imgReference === '/src/image.png'
import svgReference from './image.svg'; // svgReference === '/src/image.svg'
import txtReference from './words.txt'; // txtReference === '/src/words.txt'

// В этом примере используется JSX, но вы можете использовать ссылки на импорт с любым фреймворком.
<img src={imgReference.src} alt="image description" />;
```

Все остальные ресурсы, не упомянутые выше, могут быть импортированы через ESM `import` и вернут ссылку на URL на итоговый собранный ресурс. Это может быть полезно для ссылки на не-JS ресурсы по URL, например, для создания элемента изображения с атрибутом `src`, указывающим на это изображение.

Также может быть полезно размещать изображения в папке `public/`, как объяснено на [странице структуры проекта](/ru/basics/project-structure/#public).

<ReadMore>Узнайте больше о добавлении параметров импорта Vite (например, `?url`, `?raw`) в [руководстве по обработке статических ресурсов Vite](https://vite.dev/guide/assets.html).</ReadMore>

:::note
Добавление **альтернативного текста** к тегам `<img>` рекомендуется для доступности! Не забудьте добавить атрибут `alt="полезное описание"` к вашим элементам изображения. Вы можете просто оставить атрибут пустым, если изображение является чисто декоративным.
:::

## Псевдонимы

**Псевдоним** - это способ создания ярлыков для ваших импортов.

Псевдонимы могут помочь улучшить опыт разработки в кодовых базах с множеством директорий или относительных импортов.

```astro title="src/pages/about/company.astro" del="../../components" del="../../assets"
---
import Button from '../../components/controls/Button.astro';
import logoUrl from '../../assets/logo.png?url';
---
```

В этом примере разработчику нужно будет понять взаимосвязь между `src/pages/about/company.astro`, `src/components/controls/Button.astro` и `src/assets/logo.png`. А затем, если файл `company.astro` будет перемещен, эти импорты также нужно будет обновить.

Вы можете добавить псевдонимы импорта в `tsconfig.json`.

```json title="tsconfig.json" ins={5-6}
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@components/*": ["src/components/*"],
      "@assets/*": ["src/assets/*"]
    }
  }
}
```

:::note
Убедитесь, что `compilerOptions.baseUrl` установлен, чтобы псевдонимы путей могли быть разрешены.
:::

Сервер разработки автоматически перезапустится после этого изменения конфигурации. Теперь вы можете импортировать, используя псевдонимы, в любом месте вашего проекта:

```astro title="src/pages/about/company.astro" ins="@components" ins="@assets"
---
import Button from '@components/controls/Button.astro';
import logoUrl from '@assets/logo.png?url';
---
```

Эти псевдонимы также автоматически интегрируются в [VS Code](https://code.visualstudio.com/docs/languages/jsconfig) и другие редакторы.


## `Astro.glob()`

[`Astro.glob()`](/ru/reference/api-reference/#astroglob) - это способ импортировать множество файлов одновременно.

`Astro.glob()` принимает только один параметр: относительный [шаблон glob](/ru/guides/imports/#glob-patterns), соответствующий локальным файлам, которые вы хотите импортировать. Это асинхронная функция, которая возвращает массив экспортов каждого соответствующего файла.

```astro title="src/components/my-component.astro"
---
// импортирует все файлы, оканчивающиеся на `.md` в `./src/pages/post/`
const posts = await Astro.glob('../pages/post/*.md'); 
---
<!-- Отображает <article> для первых 5 блог-постов -->
<div>
{posts.slice(0, 4).map((post) => (
  <article>
    <h2>{post.frontmatter.title}</h2>
    <p>{post.frontmatter.description}</p>
    <a href={post.url}>Read more</a>
  </article>
))}
</div>
```

Astro компоненты, импортированные с помощью `Astro.glob`, имеют тип [`AstroInstance`](/ru/reference/api-reference/#astro-files). Вы можете отобразить каждый экземпляр компонента, используя его свойство `default`:

```astro title="src/pages/component-library.astro" {8}
// импортирует все файлы, оканчивающиеся на `.astro` в `./src/components/`
const components = await Astro.glob('../components/*.astro');
---
<!-- Отображает все наши компоненты -->
{components.map((component) => (
  <div>
    <component.default size={24} />
  </div>
))}
```


### Шаблоны Glob

Шаблон glob - это путь к файлу, который поддерживает специальные символы подстановки. Это используется для ссылки на несколько файлов в вашем проекте одновременно.

Например, шаблон glob `./pages/**/*.{md,mdx}` начинается в подкаталог�� pages, просматривает все его подкаталоги (`/**`) и соответствует любому имени файла (`/*`), которое заканчи��ается на `.md` или `.mdx` (`.{md,mdx}`).

#### Шаблоны Glob в Astro

Для использования с `Astro.glob()`, шаблон glob должен быть строковым литералом и не может содержать переменных. См. [руководство по устранению неполадок](/ru/guides/troubleshooting/#astroglob---no-matches-found) для обходного пути.

Кроме того, шаблоны glob должны начинаться с одного из следующих:
- `./` (чтобы начать в текущем каталоге)
- `../` (чтобы начать в родительском каталоге)
- `/` (чтобы начать с корня проекта)
 

[Узнайте больше о синтаксисе шаблонов glob](https://github.com/mrmlnc/fast-glob#pattern-syntax).

#### `Astro.glob()` vs `getCollection()`

[Коллекции контента](/ru/guides/content-collections/) предоставляют API [`getCollection()`](/ru/reference/modules/astro-content/#getcollection) для загрузки нескольких файлов вместо `Astro.glob()`. Если ваши файлы контента (например, MarkЗагружает и инициализирует запрошенный файллекциях в каталоге `src/content/`, используйте `getCollection()`, чтобы [запросить коллекцию](/ru/guides/content-collections/#querying-collections) и вернуть записи контента.

<ReadMore>Узнайте больше о [подключении коллекций](/ru/guides/content-collections/#querying-collections) и возврате записей контента.</ReadMore>

## WASM

```js
// Загружает и инициализирует запрошенный WASM
const wasm = await WebAssembly.instantiateStreaming(fetch('/example.wasm'));
```

Astro поддерживает загрузку WASM файлов напрямую в ваше приложение, используя API браузера [`WebAssembly`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly).


## Встроенные модули Node

Мы рекомендуем пользователям Astro избегать встроенных модулей Node.js (`fs`, `path` и т.д.) по возможности. Astro совместим с несколькими средами выполнения, используя [адаптеры](/ru/guides/server-side-rendering/). Это включает [Deno](https://github.com/denoland/deno-astro-adapter) и [Cloudflare Workers](/ru/guides/integrations-guide/cloudflare/), которые не поддерживают встроенные модули Node, такие как `fs`.

Наша цель - предоставить альтернативы Astro для общих встроенных модулей Node.js. Однако, таких альтернатив на сегодняшний день не существует. Поэтому, если вам _действительно_ нужно использовать эти встроенные модули, мы не хотим вас останавливать. Astro поддерживает встроенные модули Node, используя новый префикс Node `node:`. Если вы хотите прочитать файл, например, вы можете сделать это так:

```astro title="src/components/MyComponent.astro"
---
// Пример: импорт встроенного модуля "fs/promises" из Node.js
import fs from 'node:fs/promises';

const url = new URL('../../package.json', import.meta.url);
const json = await fs.readFile(url, 'utf-8');
const data = JSON.parse(json);
---

<span>Version: {data.version}</span>
```

## Расширение поддержки типов файлов

С помощью **Vite** и совместимых **Rollup** плагинов вы можете импортировать типы файлов, которые не поддерживаются Astro нативно. Узнайте, где найти нужные плагины в разделе [Поиск плагинов](https://vite.dev/guide/using-plugins.html#finding-plugins) документации Vite.

:::note[Конфигурация плагина]
Обратитесь к документации вашего плагина для получения информации о параметрах конфигурации и о том, как правильно его установить.
:::

<RecipeLinks slugs={["ru/recipes/add-yaml-support"]} />
